# CAP теорема

+ *C (consistency)* — согласованность. Каждое чтение даст вам самую последнюю запись.
+ *A (availability)* — доступность. Каждый узел (не упавший) всегда успешно выполняет запросы (на чтение и запись).
+ *P (partition tolerance)* — устойчивость к распределению. Даже если между узлами нет связи, они продолжают работать независимо друг от друга.

### Cassandra (AP)

Cassandra является распределенной базой данных. Каждый узел в кластере выполняет одинаковую роль, помимо этого не существует единой точки отказа. Данные распределены по кластеру (поэтому каждый узел содержит разные данные), но главного узла нет, поскольку каждый узел может обслуживать любой запрос и обеспечить ту же функциональность, что и любой другой узел, что способствует надежности и устойчивости Cassandra. Тем самым Cassandra можно отнести к ***AP системе***.

### MongoDB (CP)

MongoDB является распределенной системой с одним Master узлом, которая использует асинхронную репликацию для распространения нескольких копий данных для обеспечения высокой доступности. 
Кластер MongoDB состоит из двух типов узлов:
1) Основной узел - является главным узлом и получает все операции записи.
2) Вторичные узлы - получают реплицированные данные из основного для поддержания идентичного набора данных.
Если основной элемент завершается ошибкой, все записи приостанавливаются до тех пор, пока из одного из вторичных узлов не будет выбран новый основной. Тем самым MongoDB можно отнести к ***CP системе***.

### MSSQL (CA)

MSSQL является реляционной БД, в которой узлы (Master и Slave) являются независимыми друг от друга. Поскольку репликация master-slave является односторонней репликацией, для операций записи используется только главная база данных, в то время как операции чтения могут распространяться на несколько подчиненных баз данных. Тем самым MSSQL можно отнести к ***CA системе***.

![CAP Theorem](https://www.encyklopediapoznania.sk/data/informatika/clanky/nosql_databazy/teorem-cap.png)
